<!--

=========================================================
* Argon Dashboard 2 Tailwind - v1.0.1
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard-tailwind
* Copyright 2022 Creative Tim (https://www.creative-tim.com)

* Coded by www.creative-tim.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
{% load static %}

{% load static tailwind_tags %}
<!DOCTYPE html>
<html>
  <head>
           {% tailwind_css %}

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="76x76" href=" {% static 'assets/img/rail.png' %}" />
    <link rel="icon" type="image/png" href=" {% static 'assets/img/rail.png' %} " />
    <title>I hear Dataset</title>
    <!--     Fonts and icons     -->

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <!-- Nucleo Icons -->
    <link href="{% static 'assets/css/nucleo-icons.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/css/nucleo-svg.css'%}" rel="stylesheet" />
      <link rel="stylesheet" href="{% static 'assets/css/perfect-scrollbar.css' %}">

      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">


    <!-- Popper -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <!-- Main Styling -->
    <link href=" {% static 'assets/css/argon-dashboard-tailwind.css' %} " rel="stylesheet" />
        <link href=" {% static 'assets/css/argon-dashboard-tailwind.min.css' %} " rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Custom Color Styles -->
    <style>
      :root {
        --primary-color: #005450;
        --secondary-color: #00d553;
        --primary-light: rgba(0, 84, 80, 0.1);
        --primary-hover: rgba(0, 84, 80, 0.15);
        --secondary-light: rgba(0, 213, 83, 0.1);
        --secondary-hover: rgba(0, 213, 83, 0.15);
      }

      .bg-primary { background-color: var(--primary-color) !important; }
      .bg-secondary { background-color: var(--secondary-color) !important; }
      .text-primary { color: var(--primary-color) !important; }
      .text-secondary { color: var(--secondary-color) !important; }
      .border-primary { border-color: var(--primary-color) !important; }
      .border-secondary { border-color: var(--secondary-color) !important; }

      .bg-primary-light { background-color: var(--primary-light) !important; }
      .bg-secondary-light { background-color: var(--secondary-light) !important; }

      .hover-primary:hover { background-color: var(--primary-hover) !important; }
      .hover-secondary:hover { background-color: var(--secondary-hover) !important; }

      /* Custom gradient */
      .bg-primary-gradient {
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      }

      /* Active navigation styles */
      .nav-active {
        background-color: var(--primary-light) !important;
        color: var(--primary-color) !important;
        font-weight: 600;
      }

      .nav-active i {
        color: var(--secondary-color) !important;
      }

      /* Dropdown hover effects */
      .dropdown-item:hover {
        background-color: var(--secondary-light) !important;
        color: var(--primary-color) !important;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 1px;
        height: 4px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      ::-webkit-scrollbar-thumb {
        background: var(--primary-color);
        border-radius:13px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--secondary-color);
      }
    </style>
  </head>

  <body class="m-0 font-sans text-base antialiased font-normal dark:bg-slate-900 leading-default bg-gray-50 text-slate-500">
    <!-- Updated header background with custom gradient -->
    <div class="absolute w-full bg-primary-gradient dark:hidden min-h-75"></div>

    <!-- sidenav  -->
    <aside class="fixed inset-y-0 flex-wrap items-center justify-between block w-full p-0 my-4 overflow-y-auto antialiased transition-transform duration-200 -translate-x-full bg-white border-0 shadow-xl dark:shadow-none dark:bg-slate-850 max-w-64 ease-nav-brand z-990 xl:ml-6 rounded-2xl xl:left-0 xl:translate-x-0" aria-expanded="false">
      <div class="">
        <i class="absolute top-0 right-0 p-4 opacity-50 cursor-pointer fas fa-times dark:text-white text-slate-400 xl:hidden" sidenav-close></i>
        <a class="block px-8 py-6 m-0 text-sm whitespace-nowrap dark:text-white text-slate-700" target="_blank">
          <img src=" {% static 'assets/img/rail.png' %} "  class="w-full h-full" alt="main_logo" />
        </a>
      </div>

      <!-- Updated separator with custom colors -->
      <hr class="h-px mt-0 bg-transparent bg-gradient-to-r from-transparent via-primary/40 to-transparent dark:bg-gradient-to-r dark:from-transparent dark:via-white dark:to-transparent" />

      <div class="items-center block w-auto max-h-screen overflow-auto h-sidenav grow basis-full">
      <!-- Sidebar navigation -->
      <ul class="flex flex-col pl-0 mb-0">
        <li class="mt-0.5 w-full">
          <a href="{% url 'data:dashboard' %}"
             class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                    {% if request.path == '/dashboard/' or request.path == '/' %}
                      nav-active
                    {% else %}
                      dark:text-white dark:opacity-80
                    {% endif %}">
            <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
              <i class="relative top-0 text-sm leading-normal {% if request.path == '/dashboard/' or request.path == '/' %}text-secondary{% else %}text-slate-500{% endif %} ni ni-tv-2"></i>
            </div>
            <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Dashboard</span>
          </a>
        </li>


        <!-- Dataset Dropdown -->
        <li class="mt-0.5 w-full">
          <div class="relative">
            <button id="dataset-button" type="button"
                   class="w-full py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                          {% if 'dataset' in request.path %}
                            nav-active
                          {% else %}
                            dark:text-white dark:opacity-80
                          {% endif %}">

              <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
                <i class="relative top-0 text-sm leading-normal {% if 'dataset' in request.path %}text-secondary{% else %}text-slate-500{% endif %} ni ni-calendar-grid-58"></i>
              </div>

               <div class="flex flex-row justify-between items-center w-full">
                 <span class="ml-1 duration-300 opacity-100 ease text-start">Dataset</span>
                 <i id="dropdown-arrow" class="fas fa-chevron-down text-xs transition-transform duration-200 dark:text-white text-slate-500"></i>
               </div>
            </button>

            <!-- Dropdown Menu -->
            <div id="dataset-dropdown" style="padding-left: 20px;" class="dropdown-menu mx-2 mt-1 bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 z-50 overflow-hidden rounded-md">
              <ul class="py-2">
                <li>
                  <a href="{% url 'data:datasetlist'%}"
                     class="dropdown-item block px-4 py-2 text-sm text-slate-700 dark:text-white transition-colors">
                    <i class="fas fa-volume-up mr-2 text-xs text-secondary"></i>
                    Noise
                  </a>
                </li>
                <li>
                  <a class="dropdown-item block px-4 py-2 text-sm text-slate-700 dark:text-white transition-colors">
                    <i class="fas fa-microphone mr-2 text-xs text-secondary"></i>
                    Clean Speech
                  </a>
                </li>
                <li>
                  <a class="dropdown-item block px-4 py-2 text-sm text-slate-700 dark:text-white transition-colors">
                    <i class="fas fa-layer-group mr-2 text-xs text-secondary"></i>
                    Mixed (Noise and Clean)
                  </a>
                </li>
                <li>
                  <a class="dropdown-item block px-4 py-2 text-sm text-slate-700 dark:text-white transition-colors">
                    <i class="fas fa-comments mr-2 text-xs text-secondary"></i>
                    Non-standard Speech
                  </a>
                </li>
                <li>
                  <a class="dropdown-item block px-4 py-2 text-sm text-slate-700 dark:text-white transition-colors">
                    <i class="fas fa-paw mr-2 text-xs text-secondary"></i>
                    Animals
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </li>

        <li class="mt-0.5 w-full">
          <a href="{% url 'data:contribute_audio' %}"
             class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                    {% if '/contribute/' in request.path %}
                      nav-active
                    {% else %}
                      dark:text-white dark:opacity-80
                    {% endif %}">
            <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
              <i class="relative top-0 text-sm leading-normal {% if '/contribute/' in request.path %}text-secondary{% else %}text-slate-500{% endif %} fa-solid fa-microphone"></i>
            </div>
            <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Contribute</span>
          </a>
        </li>


        {% if request.user.user_type == "researcher" or request.user.is_superuser %}

            <li class="mt-0.5 w-full">
          <a href="{% url 'reports:report' %}"
             class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                    {% if request.path == '/reports/' %}
                      nav-active
                    {% else %}
                      dark:text-white dark:opacity-80
                    {% endif %}">
            <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
              <i class="relative top-0 text-sm leading-normal {% if request.path == '/reports/'  %}text-secondary{% else %}text-slate-500{% endif %} ni ni-chart-pie-35"></i>
            </div>
            <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Report</span>
          </a>
        </li>
          {%endif%}

            <!-- Insights link -->

            {% if request.user.user_type == "researcher" or request.user.is_superuser %}
            <li class="mt-0.5 w-full">
              <a href="{% url 'insights:home' %}"
                 class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                        {% if 'insights' in request.path %}
                          nav-active
                        {% else %}
                          dark:text-white dark:opacity-80
                        {% endif %}">
                <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
                  <i class="relative top-0 text-sm leading-normal {% if 'insights' in request.path %}text-secondary{% else %}text-slate-500{% endif %} fa-regular fa-message"></i>
                </div>
                <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Data Insights</span>
              </a>
            </li>

            {%endif%}

            <!-- AI Chatbot link -->
            <li class="mt-0.5 w-full">
              <a href="{% url 'chatbot:home' %}"
                 class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                        {% if 'chatbot' in request.path %}
                          nav-active
                        {% else %}
                          dark:text-white dark:opacity-80
                        {% endif %}">
                <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
                  <i class="relative top-0 text-sm leading-normal {% if 'chatbot' in request.path %}text-secondary{% else %}text-slate-500{% endif %} fa-solid fa-robot"></i>
                </div>
                <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">AI Assistant</span>
              </a>
            </li>

        <!-- Export link -->
        {% if user.user_type == "researcher"  or request.user.is_superuser %}
        <li class="mt-0.5 w-full">
          <a href="{% url 'export:export_with_audio' %}"
             class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                    {% if 'export' in request.path %}
                      nav-active
                    {% else %}
                      dark:text-white dark:opacity-80
                    {% endif %}">
            <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
              <i class="relative top-0 text-sm leading-normal {% if 'export' in request.path %}text-secondary{% else %}text-slate-500{% endif %} fa-solid fa-download"></i>
            </div>
            <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Export</span>
          </a>
        </li>
        {%endif%}



        <!-- Approval link -->
        {% if user.user_type == "researcher"  or request.user.is_superuser %}
         <li class="mt-0.5 w-full">
           <a href="/approval/"
             class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover-primary
                    {% if 'approval' in request.path %}
                      nav-active
                    {% else %}
                      dark:text-white dark:opacity-80
                    {% endif %}">
            <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
              <i class="relative top-0 text-sm leading-normal {% if 'approval' in request.path %}text-secondary{% else %}text-slate-500{% endif %} fa-solid fa-clipboard-check"></i>
            </div>
            <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Approval</span>
          </a>
        </li>
        {%endif%}
        <li class="mt-0.5 w-full">
          <a href="{% url 'auth:logout' %}"
             class="py-2.7 text-sm ease-nav-brand my-0 mx-2 flex items-center whitespace-nowrap px-4 transition-colors hover:bg-red-50
                    {% if 'logout' in request.path %}
                      bg-red-50 dark:text-white font-semibold text-red-600
                    {% else %}
                      dark:text-white dark:opacity-80
                    {% endif %}">
            <div class="mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-center stroke-0 text-center xl:p-2.5">
              <i class="relative top-0 text-sm leading-normal {% if 'logout' in request.path %}text-red-600{% else %}text-slate-500{% endif %} fa fa-sign-out"></i>
            </div>
            <span class="ml-1 duration-300 opacity-100 pointer-events-none ease">Logout</span>
          </a>
        </li>
      </ul>
      </div>

    </aside>

    <!-- end sidenav -->

    <main class="relative h-full max-h-screen transition-all duration-200 ease-in-out xl:ml-68 rounded-xl">
         <nav class="relative flex flex-wrap items-center justify-between px-0 py-2 mx-6 transition-all ease-in shadow-none duration-250 rounded-2xl lg:flex-nowrap lg:justify-start" navbar-main navbar-scroll="false">
        <div class="flex items-center justify-between w-full px-4 py-1 mx-auto flex-wrap-inherit">


          <div class="flex items-center mt-2 grow sm:mt-0 sm:mr-6 md:mr-0 lg:flex lg:basis-auto">
            <div class="flex items-center md:ml-auto md:pr-4">

            </div>
            <ul class="flex flex-row justify-end pl-0 mb-0 list-none md-max:w-full">

              <li class="flex items-center pl-4 xl:hidden">
                <a href="javascript:;" class="block p-0 text-sm text-white transition-all ease-nav-brand" sidenav-trigger>
                  <div class="w-4.5 overflow-hidden">
                    <i class="ease mb-0.75 relative block h-0.5 rounded-sm bg-white transition-all"></i>
                    <i class="ease mb-0.75 relative block h-0.5 rounded-sm bg-white transition-all"></i>
                    <i class="ease relative block h-0.5 rounded-sm bg-white transition-all"></i>
                  </div>
                </a>
              </li>



<!-- Ellipsis Dropdown -->
<li class="relative flex items-center pr-3">
   <button dropdown-trigger aria-expanded="false" type="button" class="inline-block  px-6 py-2  mr-3 font-bold text-center text-white uppercase align-middle transition-all rounded-lg cursor-pointer bg-primary leading-normal text-sm ease-in tracking-tight-rem shadow-md bg-150 bg-x-25 hover:-translate-y-px active:opacity-85 hover:shadow-md">
    <i class="fa fa-external-link-alt mr-2 text-white"></i>

    Go to </button>


  <ul dropdown-menu="shortcuts"
      class="text-sm transform-dropdown before:font-awesome before:leading-default before:duration-350 before:ease
             lg:shadow-3xl duration-250 min-w-44 dark:bg-gray-950 pointer-events-none
             absolute right-0 top-full mt-3 z-50 origin-top list-none rounded-lg border border-gray-200
             bg-white bg-clip-padding text-left text-slate-500 opacity-0 transition-all">

    <!-- Add Dataset -->
    <li class="relative mb-2 border-b border-gray-200">
      <a href="{% url 'data:noise_dataset_create' %}" class="group ease py-2 flex items-center gap-3 w-full whitespace-nowrap rounded-lg bg-transparent px-4 duration-300 hover:bg-gray-200" href="javascript:;">
        <i class="fa fa-database mr-2 text-green-600"></i>
        <span>Add Dataset</span>
      </a>
    </li>

    <!-- Bulk Upload -->
    <li class="relative">
      <a href="{% url 'data:bulk_upload' %}" class="group ease py-2 flex items-center gap-3 w-full whitespace-nowrap rounded-lg bg-transparent px-4 duration-300 hover:bg-gray-200" href="javascript:;">
        <i class="fa fa-upload mr-2 text-blue-600"></i>
        <span>Bulk Upload</span>
      </a>
    </li>
  </ul>
</li>


<!-- Bell Dropdown -->
<li class="relative flex items-center pr-3">
  <a dropdown-trigger="notifications" href="javascript:;"
     class="block p-0 text-white transition-all text-sm ease-nav-brand dark:text-white"
     aria-expanded="false">
    <i class="fa fa-bell" style="font-size: 20px;"></i>
  </a>

  <ul dropdown-menu="notifications"
      class="text-sm transform-dropdown before:font-awesome before:leading-default before:duration-350 before:ease
             lg:shadow-3xl duration-250 min-w-44 dark:bg-gray-950 pointer-events-none
             absolute right-0 top-full mt-3 z-50 origin-top list-none rounded-lg border border-gray-200
             bg-white bg-clip-padding px-2 py-4 text-left text-slate-500 opacity-0 transition-all">

    <!-- Bell Dropdown Items -->
    <li class="relative mb-2 border-b border-gray-200">
      <a class="group ease py-2 flex items-center gap-3 w-full whitespace-nowrap rounded-lg bg-transparent px-4 duration-300 hover:bg-gray-200" href="javascript:;">
        <div class="flex items-center gap-3">
          <img src="./assets/img/team-2.jpg" class="h-9 w-9 rounded-xl" />
          <div class="flex flex-col justify-center">
            <h6 class="mb-1 text-sm font-semibold">New message from Laur</h6>
            <p class="text-xs text-slate-400 flex items-center gap-1">
              <i class="fa fa-clock"></i> 13 minutes ago
            </p>
          </div>
        </div>
      </a>
    </li>
  </ul>
</li>


<li
<!-- Profile Dropdown -->
<li class="relative flex items-center pr-2">
  <a href="{% url 'auth:profile' %}" class="block p-0 text-white transition-all text-sm ease-nav-brand dark:text-white">
    <img src="{% static 'assets/img/profile.png' %}" alt="Profile" style="width: 30px; height: 30px;">
  </a>
</li>




            </ul>
          </div>
        </div>
      </nav>

      <!-- end Navbar -->

      <!-- cards -->
      <div class="w-full px-6 py-6 mx-auto">
        {% block content %}

        {% endblock content %}
      </div>
      <!-- end cards -->
    </main>

    <!-- AI Chatbot Widget (hidden on /chatbot page - full page chat is shown there) -->
    {% if user.is_authenticated and request.path != '/chatbot/' and request.path != '/chatbot' %}
      {% include 'chatbot/widget.html' %}
    {% endif %}

  </body>
  <script>
  // Set the static URL globally
  window.staticBaseUrl = "{% static '' %}";
</script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
      const button = document.getElementById('dataset-button');
      const dropdown = document.getElementById('dataset-dropdown');
      const arrow = document.getElementById('dropdown-arrow');

      // Add CSS styles for smooth transitions
      const style = document.createElement('style');
      style.textContent = `
        .dropdown-menu {
          max-height: 0;
          opacity: 0;
          transform: translateY(-10px);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dropdown-menu.open {
          max-height: 300px;
          opacity: 1;
          transform: translateY(0);
        }

        #dropdown-arrow {
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
      `;
      document.head.appendChild(style);

      // Toggle dropdown when button is clicked
      button.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();

        if (dropdown.classList.contains('open')) {
          // Close dropdown
          dropdown.classList.remove('open');
          arrow.classList.remove('rotate-180');
        } else {
          // Open dropdown
          dropdown.classList.add('open');
          arrow.classList.add('rotate-180');
        }
      });

      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!button.contains(e.target) && !dropdown.contains(e.target)) {
          dropdown.classList.remove('open');
          arrow.classList.remove('rotate-180');
        }
      });

      // Prevent dropdown from closing when clicking inside it
      dropdown.addEventListener('click', function(e) {
        e.stopPropagation();
      });
    });
  </script>

  <!-- plugin for charts  -->
   <!-- At the bottom of your template -->
<script src="{% static 'assets/js/perfect-scrollbar.js' %}"></script>
<script src="{% static 'assets/js/navbar-collapse.js' %}"></script>
<script src="{% static 'assets/js/tooltips.js' %}"></script>
<script src="{% static 'assets/js/nav-pills.js' %}"></script>
<script src="{% static 'assets/js/dropdown.js' %}"></script>
<script src="{% static 'assets/js/fixed-plugin.js' %}"></script>
<script src="{% static 'assets/js/navbar-sticky.js' %}"></script>
<script src="{% static 'assets/js/sidenav-burger.js' %}"></script>
<script src="{% static 'assets/js/charts.js' %}"></script>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <script src="{% static 'assets/js/plugins/chartjs.min.js' %}" async></script>
  <!-- plugin for scrollbar  -->
  <script src="{% static 'assets/js/plugins/perfect-scrollbar.min.js' %}" async></script>
  <!-- main script file  -->
  <script src="{% static 'assets/js/argon-dashboard-tailwind.js' %}" async></script>
    <script src="{% static 'assets/js/argon-dashboard-tailwind.min.js' %}" async></script>

</html>
