<!--
=========================================================
* Argon Dashboard 2 Tailwind - v1.0.1
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard-tailwind
* Copyright 2022 Creative Tim (https://www.creative-tim.com)

* Coded by www.creative-tim.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
{% load static %}

{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en">
  <head>
       {% tailwind_css %}

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'assets/img/apple-icon.png' %} " />
    <link rel="icon" type="image/png" href="{% static 'assets/img/favicon.png' %}" />
    <title>I hear Dataset - Sign Up</title>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <!-- Nucleo Icons -->
    <link href="{% static 'assets/css/nucleo-icons.css' %}" rel="stylesheet" />
    <link href=" {% static 'assets/css/nucleo-svg.css' %}" rel="stylesheet" />
    <!-- Main Styling -->
    <link href=" {% static 'assets/css/argon-dashboard-tailwind.css' %}" rel="stylesheet" />

    <style>
      /* Custom colors */

    .bg-primary { background-color: #005450; }
      .bg-secondary { background-color: #00d553; }
      .text-primary { color: #005450; }
      .text-secondary { color: #00d553; }
      .border-primary { border-color: #005450; }
      .border-secondary { border-color: #00d553; }
      .focus\:border-primary:focus { border-color: #005450; }
      .focus\:border-secondary:focus { border-color: #00d553; }
      .bg-gradient-primary { background: linear-gradient(135deg, #005450 0%, #00d553 100%); }

      /* Password field styling */
      .password-wrapper {
        position: relative;
      }
      .password-toggle {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #666;
        z-index: 10;
      }
      .password-toggle:hover {
        color: #005450;
      }
      .password-input {
        padding-right: 40px !important;
      }
      .password-match-error {
        color: #dc2626;
        font-size: 12px;
        margin-top: 4px;
        display: none;
      }
      .password-match-success {
        color: #00d553;
        font-size: 12px;
        margin-top: 4px;
        display: none;
      }
    </style>
  </head>

  <body class="m-0 font-sans antialiased font-normal bg-white text-start text-base leading-default text-slate-500">
    <div class="container sticky top-0 z-sticky">
      <div class="flex flex-wrap -mx-3">
        <div class="w-full max-w-full px-3 flex-0">

        </div>
      </div>
    </div>
    <main class="mt-0 transition-all duration-200 ease-in-out">
      <section>
        <div class="relative flex items-center min-h-screen p-0 overflow-hidden bg-center bg-cover">
          <div class="container z-1">
            <div class="flex flex-wrap -mx-3">
              <div class="flex flex-col w-full max-w-full px-3 mx-auto lg:mx-0 shrink-0 md:flex-0 md:w-7/12 lg:w-5/12 xl:w-4/12">
                <div class="relative flex flex-col min-w-0 break-words bg-transparent border-0 shadow-none lg:py4 dark:bg-gray-950 rounded-2xl bg-clip-border">
                    <img class="" style="height: 150px;" src="{% static 'assets/img/rail.png' %}"/>

                  <div class="p-6 pb-0 mb-0">
                    <h5 class="font-bold">Create Account</h5>
                    <p class="mb-0 text-sm">Enter your details to create a new account</p>
                  </div>
                <!-- In your form section -->
                      <!-- Display messages -->


<div class="flex-auto p-6">
        {% if messages %}
        <div class="mb-4">
            {% for message in messages %}
            <div  style="color: white;" class="p-3 text-sm rounded-lg {% if message.tags == 'error' %}bg-red-600 text-red-600{% else %}bg-secondary text-white {% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
    <form role="form" method="POST" action="{% url 'auth:signup' %}">
        {% csrf_token %}
        <div class="mb-4">
            <input type="email" name="email" placeholder="Email Address" class="focus:shadow-primary-outline dark:bg-gray-950 dark:placeholder:text-white/80 dark:text-white/80 text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding p-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-secondary focus:outline-none" required />
        </div>
        <div class="mb-4">
            <input type="text" name="username" placeholder="Username" class="focus:shadow-primary-outline dark:bg-gray-950 dark:placeholder:text-white/80 dark:text-white/80 text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding p-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-secondary focus:outline-none" />
        </div>
        <div class="mb-4">
            <input type="text" name="first_name" placeholder="First Name" class="focus:shadow-primary-outline dark:bg-gray-950 dark:placeholder:text-white/80 dark:text-white/80 text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding p-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-secondary focus:outline-none" />
        </div>
        <div class="mb-4">
            <input type="text" name="last_name" placeholder="Last Name" class="focus:shadow-primary-outline dark:bg-gray-950 dark:placeholder:text-white/80 dark:text-white/80 text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding p-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-secondary focus:outline-none" />
        </div>
        <div class="mb-4">
            <div class="password-wrapper">
                <input type="password" id="password" name="password" placeholder="Password" class="password-input focus:shadow-primary-outline dark:bg-gray-950 dark:placeholder:text-white/80 dark:text-white/80 text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding p-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-secondary focus:outline-none" required />
                <i class="fas fa-eye password-toggle" id="togglePassword" onclick="togglePasswordVisibility('password', 'togglePassword')"></i>
            </div>
        </div>
        <div class="mb-4">
            <div class="password-wrapper">
                <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm Password" class="password-input focus:shadow-primary-outline dark:bg-gray-950 dark:placeholder:text-white/80 dark:text-white/80 text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding p-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-secondary focus:outline-none" required />
                <i class="fas fa-eye password-toggle" id="toggleConfirmPassword" onclick="togglePasswordVisibility('confirm_password', 'toggleConfirmPassword')"></i>
            </div>
            <div class="password-match-error" id="passwordMatchError">
                <i class="fas fa-times-circle"></i> Passwords do not match
            </div>
            <div class="password-match-success" id="passwordMatchSuccess">
                <i class="fas fa-check-circle"></i> Passwords match
            </div>
        </div>


        <div class="text-center">
            <button type="submit" class="inline-block w-full px-16 py-3.5 mt-6 mb-0 font-bold leading-normal text-center text-white align-middle transition-all bg-primary border-0 rounded-lg cursor-pointer hover:-translate-y-px active:opacity-85 hover:shadow-xs text-sm ease-in tracking-tight-rem shadow-md bg-150 bg-x-25 hover:bg-secondary">Sign Up</button>
        </div>

        <div class="text-center mt-4">
            <p class="text-sm text-gray-600">Already have an account? <a href="{% url 'auth:login' %}" class="text-primary font-semibold hover:underline">Sign In</a></p>
        </div>
    </form>
</div>

                </div>
              </div>
              <div class="absolute top-0 right-0 flex-col justify-center hidden w-6/12 h-full max-w-full px-3 pr-0 my-auto text-center flex-0 lg:flex">
                <div class="relative flex flex-col justify-center h-full bg-cover px-24 m-4 overflow-hidden bg-[url('https://raw.githubusercontent.com/creativetimofficial/public-assets/master/argon-dashboard-pro/assets/img/signin-ill.jpg')] rounded-xl ">
                  <span class="absolute top-0 left-0 w-full h-full bg-center bg-cover bg-gradient-primary opacity-60"></span>
                  <h4 class="z-20 mt-12 font-bold text-white">Join the I hear and see Community</h4>
                  <p class="z-20 text-white ">Create your account to start contributing to the dataset and help improve hearing technology</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

  </body>
  <!-- plugin for scrollbar  -->
  <script src=" {% static 'assets/js/plugins/perfect-scrollbar.min.js' %} " async></script>
  <!-- main script file  -->
  <script src="{% static 'assets/js/argon-dashboard-tailwind.js' %}" async></script>
  <script>
    // Toggle password visibility
    function togglePasswordVisibility(inputId, iconId) {
      const input = document.getElementById(inputId);
      const icon = document.getElementById(iconId);

      if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      } else {
        input.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      }
    }

    // Password match validation
    function validatePasswordMatch() {
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirm_password').value;
      const errorDiv = document.getElementById('passwordMatchError');
      const successDiv = document.getElementById('passwordMatchSuccess');
      const confirmInput = document.getElementById('confirm_password');

      if (confirmPassword.length === 0) {
        errorDiv.style.display = 'none';
        successDiv.style.display = 'none';
        confirmInput.classList.remove('border-red-500', 'border-green-500');
        return true;
      }

      if (password !== confirmPassword) {
        errorDiv.style.display = 'block';
        successDiv.style.display = 'none';
        confirmInput.classList.remove('border-green-500');
        confirmInput.classList.add('border-red-500');
        return false;
      } else {
        errorDiv.style.display = 'none';
        successDiv.style.display = 'block';
        confirmInput.classList.remove('border-red-500');
        confirmInput.classList.add('border-green-500');
        return true;
      }
    }

    // Form submission validation
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.querySelector('form[role="form"]');
      const passwordInput = document.getElementById('password');
      const confirmPasswordInput = document.getElementById('confirm_password');

      // Real-time password match validation
      confirmPasswordInput.addEventListener('input', validatePasswordMatch);
      passwordInput.addEventListener('input', function() {
        if (confirmPasswordInput.value.length > 0) {
          validatePasswordMatch();
        }
      });

      // Form submission validation
      form.addEventListener('submit', function(e) {
        const password = passwordInput.value;
        const confirmPassword = confirmPasswordInput.value;

        // Check if passwords match
        if (password !== confirmPassword) {
          e.preventDefault();
          validatePasswordMatch();
          alert('Passwords do not match. Please check and try again.');
          return false;
        }

        // Check password requirements
        if (password.length < 8) {
          e.preventDefault();
          alert('Password must be at least 8 characters long.');
          return false;
        }

        if (!/\d/.test(password)) {
          e.preventDefault();
          alert('Password must contain at least one number.');
          return false;
        }

        if (!/[a-zA-Z]/.test(password)) {
          e.preventDefault();
          alert('Password must contain at least one letter.');
          return false;
        }

        return true;
      });
    });
  </script>
</html>
