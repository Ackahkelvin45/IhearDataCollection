
{% extends 'datacollection/layout.html'%}

{% block content %}



    <div class="relative w-full mx-auto  ">

      <div class="relative flex flex-col flex-auto min-w-0 p-4 mx-6 overflow-hidden break-words bg-white border-0 dark:bg-slate-850 dark:shadow-dark-xl shadow-3xl rounded-2xl bg-clip-border">
        <div class="flex flex-wrap -mx-3">
      
          <div class="flex-none w-auto max-w-full px-3 my-auto">
            <div class="h-full">
              <h5 class="mb-1 dark:text-white">{% if user.get_full_name %}{{ user.get_full_name }}{% elif user.username %}{{ user.username }}{% else %}{{ user.email }}{% endif %}</h5>
              <p class="mb-0 font-semibold leading-normal dark:text-white dark:opacity-60 text-sm">{% if user.user_type %}{{ user.get_user_type_display }}{% else %}User{% endif %}</p>
            </div>
          </div>

          
            <!-- 
           <div class="w-full max-w-full px-3 mx-auto mt-4 sm:my-auto sm:mr-0 md:w-1/2 md:flex-none lg:w-4/12">
            <div class="relative right-0">
              <ul class="relative flex flex-wrap p-1 list-none bg-gray-50 rounded-xl" nav-pills role="tablist">
                <li class="z-30 flex-auto text-center">
                  <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-all ease-in-out border-0 rounded-lg bg-inherit text-slate-700" nav-link active href="javascript:;" role="tab" aria-selected="true">
                    <i class="ni ni-app"></i>
                    <span class="ml-2">App</span>
                  </a>
                </li>
                <li class="z-30 flex-auto text-center">
                  <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-all ease-in-out border-0 rounded-lg bg-inherit text-slate-700" nav-link href="javascript:;" role="tab" aria-selected="false">
                    <i class="ni ni-email-83"></i>
                    <span class="ml-2">Messages</span>
                  </a>
                </li>
                <li class="z-30 flex-auto text-center">
                  <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-colors ease-in-out border-0 rounded-lg bg-inherit text-slate-700" nav-link href="javascript:;" role="tab" aria-selected="false">
                    <i class="ni ni-settings-gear-65"></i>
                    <span class="ml-2">Settings</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>-->
          
         
        </div>
      </div>
    </div>
    <div class="w-full p-6 mx-auto">
      <div class="flex flex-wrap -mx-3">
        <div class="w-full max-w-full px-3 shrink-0 md:w-8/12 md:flex-0">
          <div class="relative flex flex-col min-w-0 break-words bg-white border-0 shadow-xl dark:bg-slate-850 dark:shadow-dark-xl rounded-2xl bg-clip-border">
            <div class="border-black/12.5 rounded-t-2xl border-b-0 border-solid p-6 pb-0">
              <div class="flex items-center">
                <p class="mb-0 dark:text-white/80">Edit Profile</p>
              </div>
            </div>
            <form method="post" action="{% url 'auth:profile' %}">
              {% csrf_token %}
              <div class="flex-auto p-6">
                {% if messages %}
                  {% for message in messages %}
                    <div class="mb-4 p-4 rounded-lg {% if message.tags == 'error' %}bg-red-100 text-red-700{% elif message.tags == 'success' %}bg-green-100 text-green-700{% else %}bg-blue-100 text-blue-700{% endif %}">
                      {{ message }}
                    </div>
                  {% endfor %}
                {% endif %}
                
                <p class="leading-normal uppercase dark:text-white dark:opacity-60 text-sm">User Information</p>
                <div class="flex flex-wrap -mx-3">
                  <div class="w-full max-w-full px-3 shrink-0 md:w-6/12 md:flex-0">
                    <div class="mb-4">
                      <label for="username" class="inline-block mb-2 ml-1 font-bold text-xs text-slate-700 dark:text-white/80">Username</label>
                      <input type="text" name="username" id="username" value="{{ user.username|default:'' }}" class="focus:shadow-primary-outline dark:bg-slate-850 dark:text-white text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-blue-500 focus:outline-none" />
                    </div>
                  </div>
                  <div class="w-full max-w-full px-3 shrink-0 md:w-6/12 md:flex-0">
                    <div class="mb-4">
                      <label for="email" class="inline-block mb-2 ml-1 font-bold text-xs text-slate-700 dark:text-white/80">Email address</label>
                      <input type="email" name="email" id="email" value="{{ user.email|default:'' }}" class="focus:shadow-primary-outline dark:bg-slate-850 dark:text-white text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-blue-500 focus:outline-none" required />
                    </div>
                  </div>
                  <div class="w-full max-w-full px-3 shrink-0 md:w-6/12 md:flex-0">
                    <div class="mb-4">
                      <label for="first_name" class="inline-block mb-2 ml-1 font-bold text-xs text-slate-700 dark:text-white/80">First name</label>
                      <input type="text" name="first_name" id="first_name" value="{{ user.first_name|default:'' }}" class="focus:shadow-primary-outline dark:bg-slate-850 dark:text-white text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-blue-500 focus:outline-none" />
                    </div>
                  </div>
                  <div class="w-full max-w-full px-3 shrink-0 md:w-6/12 md:flex-0">
                    <div class="mb-4">
                      <label for="last_name" class="inline-block mb-2 ml-1 font-bold text-xs text-slate-700 dark:text-white/80">Last name</label>
                      <input type="text" name="last_name" id="last_name" value="{{ user.last_name|default:'' }}" class="focus:shadow-primary-outline dark:bg-slate-850 dark:text-white text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-blue-500 focus:outline-none" />
                    </div>
                  </div>
                </div>
                <hr class="h-px mx-0 my-4 bg-transparent border-0 opacity-25 bg-gradient-to-r from-transparent via-black/40 to-transparent dark:bg-gradient-to-r dark:from-transparent dark:via-white dark:to-transparent " />

                <p class="leading-normal uppercase dark:text-white dark:opacity-60 text-sm">Contact Information</p>
                <div class="flex flex-wrap -mx-3">
                  <div class="w-full max-w-full px-3 shrink-0 md:w-6/12 md:flex-0">
                    <div class="mb-4">
                      <label for="phone_number" class="inline-block mb-2 ml-1 font-bold text-xs text-slate-700 dark:text-white/80">Phone Number</label>
                      <input type="text" name="phone_number" id="phone_number" value="{{ user.phone_number|default:'' }}" class="focus:shadow-primary-outline dark:bg-slate-850 dark:text-white text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-2 font-normal text-gray-700 outline-none transition-all placeholder:text-gray-500 focus:border-blue-500 focus:outline-none" />
                    </div>
                  </div>
                  <div class="w-full max-w-full px-3 shrink-0 md:w-6/12 md:flex-0">
                    <div class="mb-4">
                      <label for="speaker_id" class="inline-block mb-2 ml-1 font-bold text-xs text-slate-700 dark:text-white/80">Speaker ID</label>
                      <input type="text" name="speaker_id" id="speaker_id" value="{{ user.speaker_id|default:'' }}" class="focus:shadow-primary-outline dark:bg-slate-850 dark:text-white text-sm leading-5.6 ease block w-full appearance-none rounded-lg border border-solid border-gray-300 bg-gray-100 bg-clip-padding px-3 py-2 font-normal text-gray-500 outline-none transition-all cursor-not-allowed" readonly />
                      <small class="text-xs text-slate-500 dark:text-white/60">This field cannot be changed</small>
                    </div>
                  </div>
                </div>
                
                <div class="flex justify-end mt-6">
                  <button type="submit" class="inline-block px-8 py-2 font-bold leading-normal text-center text-white align-middle transition-all ease-in bg-primary border-0 rounded-lg shadow-md cursor-pointer text-xs tracking-tight-rem hover:shadow-xs hover:-translate-y-px active:opacity-85">
                    Save Changes
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="w-full max-w-full px-3 mt-6 shrink-0 md:w-4/12 md:flex-0 md:mt-0">
          <div class="relative flex flex-col min-w-0 break-words bg-white border-0 shadow-xl dark:bg-slate-850 dark:shadow-dark-xl rounded-2xl bg-clip-border">
        

            <div class="flex-auto p-6 pt-0 mt-6">
              <div class="flex flex-wrap -mx-3">
                <div class="w-full max-w-full px-3 flex-1-0">
                  <div class="flex justify-center">
                    <div class="grid text-center">
                      <span class="font-bold dark:text-white text-lg">{{ total_noise_data|default:0 }}</span>
                      <span class="leading-normal dark:text-white text-sm opacity-80">Noise Data</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-6 text-center">
                <h5 class="dark:text-white ">
                  {% if user.get_full_name %}{{ user.get_full_name }}{% elif user.username %}{{ user.username }}{% else %}{{ user.email }}{% endif %}
                </h5>
                <div class="mb-2 font-semibold leading-relaxed text-base dark:text-white/80 text-slate-700">
                  <i class="mr-2 dark:text-white ni ni-email-83"></i>
                  {{ user.email|default:"No email" }}
                </div>
                {% if user.phone_number %}
                <div class="mt-6 mb-2 font-semibold leading-relaxed text-base dark:text-white/80 text-slate-700">
                  <i class="mr-2 dark:text-white ni ni-mobile-button"></i>
                  {{ user.phone_number }}
                </div>
                {% endif %}
                <div class="mt-6 mb-2 font-semibold leading-relaxed text-base dark:text-white/80 text-slate-700">
                  <i class="mr-2 dark:text-white ni ni-badge"></i>
                  {% if user.user_type %}{{ user.get_user_type_display }}{% else %}User{% endif %}
                </div>
                {% if user.speaker_id %}
                <div class="dark:text-white/80">
                  <i class="mr-2 dark:text-white ni ni-tag"></i>
                  Speaker ID: {{ user.speaker_id }}
                </div>
                {% endif %}
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>


  {% endblock %}
